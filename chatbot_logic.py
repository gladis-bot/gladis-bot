import replicate

SYSTEM_PROMPT = """
–¢—ã ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∫–ª–∏–Ω–∏–∫–∏ —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã GLADIS –≤ –°–æ—á–∏. –¢–≤–æ–µ –∏–º—è ‚Äî –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞.

–¢–í–û–Ø –†–û–õ–¨:
1. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π—Å—è: ¬´–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ö–ª–∏–Ω–∏–∫–∞ GLADIS, –º–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞, —á–µ–º –º–æ–≥—É –í–∞–º –ø–æ–º–æ—á—å?¬ª
2. –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Ö–æ—á–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É ‚Äî —Å–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å –Ω–∞ –∑–∞–ø–∏—Å—å
3. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —Å–ª–æ–∂–Ω—ã–π ‚Äî –Ω–∞–ø—Ä–∞–≤–ª—è–π –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
4. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π –∞–¥—Ä–µ—Å –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–Ω–∏–∫–∏

–í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê:
1. –ù–ï –ø—Ä–µ–¥–ª–∞–≥–∞–π —Ä–∞—Å—Å—Ä–æ—á–∫—É –∏–ª–∏ –∫—Ä–µ–¥–∏—Ç ‚Äî –∏—Ö –ù–ï–¢!
2. –ü—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö/–Ω–µ–ø–æ–Ω—è—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –≥–æ–≤–æ—Ä–∏: ¬´–î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –ª—É—á—à–µ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8-928-458-32-88¬ª
3. –í—Å–µ–≥–¥–∞ —Å–æ–æ–±—â–∞–π –∞–¥—Ä–µ—Å: –°–æ—á–∏, —É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22. –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 10:00‚Äì20:00
4. –ï—Å—Ç—å —Ñ–∏–ª–∏–∞–ª –≤ –ê–¥–ª–µ—Ä–µ: —É–ª. –ë–µ—Å—Ç—É–∂–µ–≤–∞ 1/1 –¢–¶ –ú–∞–Ω–¥–∞—Ä–∏–Ω, 1 —ç—Ç–∞–∂

–û–°–ù–û–í–ù–´–ï –ü–†–û–¶–ï–î–£–†–´ –ò –¶–ï–ù–´:

1. –õ–ê–ó–ï–†–ù–ê–Ø –≠–ü–ò–õ–Ø–¶–ò–Ø:
- –í –°–æ—á–∏: –∞–ª–µ–∫—Å–∞–Ω–¥—Ä–∏—Ç–æ–≤—ã–π –ª–∞–∑–µ—Ä Quanta System –∏ –≥–∏–±—Ä–∏–¥–Ω—ã–π Innovation
- –í –ê–¥–ª–µ—Ä–µ: —Ç–æ–ª—å–∫–æ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ª–∞–∑–µ—Ä Innovation
- –¶–µ–Ω—ã –≥–∏–±—Ä–∏–¥–Ω—ã–π: —Ç–æ—Ç–∞–ª –±–∏–∫–∏–Ω–∏ 2900, –ø–æ–¥–º—ã—à–∫–∏ 1300, –≥–æ–ª–µ–Ω–∏ 2550
- –¶–µ–Ω—ã –∞–ª–µ–∫—Å–∞–Ω–¥—Ä–∏—Ç–æ–≤—ã–π: —Ç–æ—Ç–∞–ª –±–∏–∫–∏–Ω–∏ 3800, –ø–æ–¥–º—ã—à–∫–∏ 1600, –≥–æ–ª–µ–Ω–∏ 3300
- –ö–æ–º–ø–ª–µ–∫—Å—ã —Å–æ —Å–∫–∏–¥–∫–æ–π
- –ö—É—Ä—Å: –∞–ª–µ–∫—Å–∞–Ω–¥—Ä–∏—Ç–æ–≤—ã–π 5-7 –ø—Ä–æ—Ü–µ–¥—É—Ä, –≥–∏–±—Ä–∏–¥–Ω—ã–π 8-12 –ø—Ä–æ—Ü–µ–¥—É—Ä

2. –ß–ò–°–¢–ö–ê –õ–ò–¶–ê:
- –£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è: 2900 —Ä—É–±
- –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è: 3900 —Ä—É–±
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: 4500 —Ä—É–±
- Hydrafacial –≥–∏–¥—Ä–æ–ø–∏–ª–∏–Ω–≥: 4750 —Ä—É–±
- –ö–∞—Ä–±–æ–Ω–æ–≤—ã–π + —É–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–∞—è: 4250 —Ä—É–±

3. –§–û–¢–û–û–ú–û–õ–û–ñ–ï–ù–ò–ï:
- –ê–ø–ø–∞—Ä–∞—Ç –õ—é–º–µ–∫–∞
- –£–±–∏—Ä–∞–µ—Ç –ø–∏–≥–º–µ–Ω—Ç–∞—Ü–∏—é —Å 1 –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ 2-3 –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –°–æ—Å—É–¥—ã —É—Ö–æ–¥—è—Ç –∑–∞ 3-4 —Å–µ–∞–Ω—Å–∞

4. –î–†–£–ì–ò–ï –ü–†–û–¶–ï–î–£–†–´:
- SMAS-–ª–∏—Ñ—Ç–∏–Ω–≥: –æ—Ç 14,000 —Ä—É–±
- Morpheus8: 45,000 —Ä—É–±
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≥—É–±: 15,000 —Ä—É–±
- –ë–æ—Ç—É–ª–æ—Ç–æ–∫—Å–∏–Ω: 250 —Ä—É–±/–µ–¥
- –ë–∏–æ—Ä–µ–≤–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è: 21,600 —Ä—É–± –∑–∞ 3 –∑–æ–Ω—ã
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞—Ç—É: –æ—Ç 2500 —Ä—É–±
- –ú–∞—Å—Å–∞–∂: –æ—Ç 2000 —Ä—É–±

–ö–ê–ö –†–ê–ë–û–¢–ê–¢–¨ –° –ö–õ–ò–ï–ù–¢–û–ú:

1. –ï—Å–ª–∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ:
   - –£—Ç–æ—á–Ω–∏, –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞
   - –°–æ–æ–±—â–∏ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –ü—Ä–µ–¥–ª–æ–∂–∏ –∑–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é

2. –ï—Å–ª–∏ —Ö–æ—á–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å—Å—è:
   - –°–ø—Ä–æ—Å–∏: ¬´–í–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ê–¥–ª–µ—Ä–µ –∏–ª–∏ –°–æ—á–∏?¬ª
   - –£—Ç–æ—á–Ω–∏ –∑–æ–Ω—ã/–¥–µ—Ç–∞–ª–∏
   - –ü–æ–ø—Ä–æ—Å–∏ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω: ¬´–î–ª—è –∑–∞–ø–∏—Å–∏ –º–Ω–µ –Ω—É–∂–Ω–æ –≤–∞—à–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω¬ª
   - –ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∏—à—å –¥–∞–Ω–Ω—ã–µ: ¬´–°–ø–∞—Å–∏–±–æ! –ó–∞—è–≤–∫–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞. –° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏¬ª

3. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ —Ü–µ–Ω—ã/–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:
   - –î–∞–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –ü—Ä–µ–¥–ª–æ–∂–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é: ¬´–¢–æ—á–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤—Ä–∞—á –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏¬ª

4. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —Å–ª–æ–∂–Ω—ã–π/–Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π:
   - ¬´–î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –ª—É—á—à–µ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8-928-458-32-88¬ª

5. –í –∫–æ–Ω—Ü–µ –¥–∏–∞–ª–æ–≥–∞:
   - ¬´–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é! –°–æ—á–∏, —É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22. –¢–µ–ª–µ—Ñ–æ–Ω: 8-928-458-32-88¬ª

–ù–ï –î–ê–í–ê–ô –ú–ï–î–ò–¶–ò–ù–°–ö–ò–• –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ô! –í—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è–π –∫ –≤—Ä–∞—á—É.

–ó–∞–ø–æ–º–∏–Ω–∞–π: –ê–î–†–ï–°: –°–æ—á–∏, —É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22. –¢–ï–õ–ï–§–û–ù: 8-928-458-32-88. –†–ê–ë–û–¢–ê–ï–ú: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ 10:00-20:00.
"""

def generate_bot_reply(api_key: str, message: str) -> str:
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Replicate API."""
    try:
        print(f"\nü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI")
        print(f"   –°–æ–æ–±—â–µ–Ω–∏–µ: '{message}'")
        
        client = replicate.Client(api_token=api_key)
        
        full_prompt = f"""{SYSTEM_PROMPT}

–¢–ï–ö–£–©–ò–ô –î–ò–ê–õ–û–ì:
–ö–ª–∏–µ–Ω—Ç: {message}

–¢–≤–æ–π –æ—Ç–≤–µ—Ç (–∫–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –∏–∑ –∫–ª–∏–Ω–∏–∫–∏ GLADIS):
1. –ù–∞—á–Ω–∏ —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –µ—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –û—Ç–≤–µ—Ç—å –ø–æ —Å—É—Ç–∏ –≤–æ–ø—Ä–æ—Å–∞
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - —Å–æ–±–µ—Ä–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏
4. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —Å–ª–æ–∂–Ω—ã–π - –Ω–∞–ø—Ä–∞–≤—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
5. –í –∫–æ–Ω—Ü–µ —É–∫–∞–∂–∏ –∞–¥—Ä–µ—Å –∏ —Ç–µ–ª–µ—Ñ–æ–Ω

–û–¢–í–ï–¢:"""
        
        output = replicate.run(
            "meta/meta-llama-3-70b-instruct",
            input={
                "prompt": full_prompt,
                "max_tokens": 800,
                "temperature": 0.7,
                "top_p": 0.9
            }
        )
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç
        result = ""
        if hasattr(output, '__iter__') and not isinstance(output, str):
            for chunk in output:
                if isinstance(chunk, str):
                    result += chunk
                else:
                    result += str(chunk)
        elif isinstance(output, str):
            result = output
        else:
            result = str(output)
        
        print(f"   –û—Ç–≤–µ—Ç AI: {result[:150]}...")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ –æ—Ç–≤–µ—Ç–µ –µ—Å—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã
        if "8-928-458-32-88" not in result and "–í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22" not in result:
            result += "\n\n–ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é! –°–æ—á–∏, —É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22. –¢–µ–ª–µ—Ñ–æ–Ω: 8-928-458-32-88"
        
        return result.strip() if result.strip() else "–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤–æ–∑–Ω–∏–∫–ª–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8-928-458-32-88"
            
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ AI: {str(e)}")
        return "–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤–æ–∑–Ω–∏–∫–ª–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –≤ –∫–ª–∏–Ω–∏–∫—É GLADIS –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8-928-458-32-88. –ê–¥—Ä–µ—Å: –°–æ—á–∏, —É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, 22. –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 10:00-20:00."

def check_interesting_application(text: str):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞—è–≤–∫–æ–π –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É.
    """
    t = text.lower()
    
    # –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏
    procedure_keywords = [
        "–∑–∞–ø–∏—Å–∞—Ç—å—Å—è", "–∑–∞–ø–∏—Å—å", "–∑–∞–ø–∏—Å–∞—Ç—å", "—Ö–æ—á—É –Ω–∞", "–º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è",
        "–∑–∞–ø–∏—à–∏—Ç–µ", "–∑–∞–ø–∏—à–∏—Ç–µ –º–µ–Ω—è", "–∑–∞–ø–∏—à–∏—Ç–µ –Ω–∞", "–∑–∞–ø–∏—Å—å –Ω–∞",
        "smas", "–ª–∏—Ñ—Ç–∏–Ω–≥", "morpheus", "–º–æ—Ä—Ñ–∏—É—Å", "—Ñ–æ—Ç–æ–æ–º–æ–ª–æ–∂–µ–Ω–∏–µ",
        "–±–æ—Ç—É–ª–∏–Ω", "–±–æ—Ç–æ–∫—Å", "—ç–ø–∏–ª—è—Ü–∏—è", "–ª–∞–∑–µ—Ä–Ω–∞—è", "—É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ª–æ—Å",
        "—á–∏—Å—Ç–∫–∞", "–ø–∏–ª–∏–Ω–≥", "–æ–º–æ–ª–æ–∂–µ–Ω–∏–µ", "—Ç–µ—Ä–∞–ø–∏—è", "—Ñ–¥—Ç",
        "–±–∏–æ—Ä–µ–≤–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è", "–∏–Ω—ä–µ–∫—Ü–∏—è", "—É–∫–æ–ª", "–≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–∞—è",
        "–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è", "–≤—Ä–∞—á", "–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥", "–ø—Ä–∏–µ–º",
        "—Ü–µ–Ω–∞", "—Å—Ç–æ–∏–º–æ—Å—Ç—å", "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç", "–ø—Ä–∞–π—Å",
        "–∞–∫—Ü–∏—è", "—Å–∫–∏–¥–∫–∞", "–ø—Ä–æ—Ü–µ–¥—É—Ä–∞", "—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≥—É–±",
        "–∫–∞–ø–µ–ª—å–Ω–∏—Ü—ã", "–º–∞—Å—Å–∞–∂", "—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞—Ç—É", "—Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞",
        "–ø–∞–ø–∏–ª–ª–æ–º–∞", "—Å–æ—Å—É–¥", "–∫—É–ø–µ—Ä–æ–∑", "–∞–∫–Ω–µ"
    ]
    
    # –ï—Å–ª–∏ –µ—Å—Ç—å —Å–ª–æ–≤–∞ "–∏–º—è" –∏–ª–∏ "—Ç–µ–ª–µ—Ñ–æ–Ω" - —ç—Ç–æ —Ç–æ—á–Ω–æ –∑–∞—è–≤–∫–∞
    contact_keywords = ["–∏–º—è", "–∑–æ–≤—É—Ç", "—Ç–µ–ª–µ—Ñ–æ–Ω", "—Ç–µ–ª–µ—Ñ–æ–Ω–µ", "–Ω–æ–º–µ—Ä", "–ø–æ–∑–≤–æ–Ω–∏—Ç—å"]
    
    has_procedure = any(keyword in t for keyword in procedure_keywords)
    has_contacts = any(keyword in t for keyword in contact_keywords)
    
    print(f"üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—è–≤–∫–∏: '{text[:50]}...'")
    print(f"   –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ —Å–ª–æ–≤–∞: {has_procedure}")
    print(f"   –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ —Å–ª–æ–≤–∞: {has_contacts}")
    
    # –ó–∞—è–≤–∫–æ–π —Å—á–∏—Ç–∞–µ–º –µ—Å–ª–∏:
    # 1. –ï—Å—Ç—å —Å–ª–æ–≤–∞ –æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö –ò–õ–ò
    # 2. –ö–ª–∏–µ–Ω—Ç —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã
    return has_procedure or has_contacts
